<html>
<head>
<title>mars 3.0.23: keyfield(n) -- Database Key Field, submodule of marsgui(n)</title>
<style type="text/css" media="screen,print">
/* ehtml(5) Standard CSS */

/*---------------------------------------------------------*/
/* General Use                                             */

a {
    /* No underlines */
    text-decoration: none;
}

/* Special formatting for definition lists, to get proper
 * blank lines after descriptions but not after topics. */
dt {
    margin-bottom: 0;
}

dd { 
    margin-bottom: 1em; 
}

dd > p:first-child { 
    margin-top: 0; 
}


/*---------------------------------------------------------*/
/* Specific Macros                                         */

/* bigmark */
div.bigmark {
    display: inline;
    font-family: Verdana;
    font-size: 100%;
    background: black;
    color: white;
    border: 1px solid black;
    border-radius: 5px;
    padding-left: 2px;
    padding-right: 2px;
}

/* def, defitem, defopt */

dt.def {
    font-weight: bold;
}

dt.defitem {
    font-weight: bold;
    font-family: monospace;
}

dt.defopt {
    font-weight: bold;
    font-family: monospace;
}


/* example/ */
pre.example {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    2px;
    padding-bottom: 2px;
    padding-left:   4px;
}


/* hrule */
hr.hrule {
    margin-top: 1em;
    margin-bottom: 1em;
}

/* iref */
a.iref {
    font-family: monospace;
}

/* itemlist */                
ul.itemlist {
    padding-left: 0;
    list-style-type: none;
}

/* listing/ */
pre.listing {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    4px;
    padding-bottom: 4px;
    padding-left:   4px;
}

span.linenum {
    background:     #E3E08F ;
}

/* mark */
div.mark {
    display:       inline;
    font-family:   Verdana;
    font-size:     75%;
    background:    black;
    color:         white;
    border:        1px solid black;
    border-radius: 5px;
    padding-left:  2px;
    padding-right: 2px;
}

/* procedure */

table.procedure {
    border: 1px solid black;
    border-collapse: collapse;
    width: 100%;
}

table.procedure td {
    border: 1px solid black;
}

td.procedure-index {
    padding-right: 5px;
    text-align: right;
    width: 2em;
}


/* topiclist/ */
.topiclist {
    margin-top:    1em;
    margin-bottom: 1em;
}

tr.topic {
    vertical-align: baseline;
}

tr.topicname {
    min-width: 1.5em;
}

/* tt/ */

.tt {
    font-family: monospace;
}



/* olp/ */

ol.olp > li {
    margin-bottom: 1em;
}

/* ulp/ */

ul.ulp > li {
    margin-bottom: 1em;
}

/*---------------------------------------------------------*/
/* table/ plus macros that use it.    Most formatting is
 * depends on the "table" class.                           */

table {
    margin-top:     1em;
    margin-bottom:  1em;
    vertical-align: baseline;
}

th {
    padding-left: 5px;
    text-align:   left;
}

td {
    padding-left:   5px;
    vertical-align: baseline;
}


/* "table" class: standard table formatting. */
.table {
    border:           1px solid black;
    border-spacing:   0;
    color:            black;
    background-color: white;
}

.table tr:first-child {
    font-weight:      bold;
    color:            white;
    background-color: #000099;    
}

.table tr.tr-odd {
    background-color: #EEEEEE;
}

.table tr.tr-even { }

.table-wide {
    width: 100%;
}

        BODY {
            color: black;
            background: white;
            margin-left: 6%;
            margin-right: 6%;
        }

        H1 {
            margin-left: -5%;
        }
        H2 {
            margin-left: -5%;
        }
        HR {
            margin-left: -5%;
        }

        TABLE {
            text-align:    left;
        }
        
        /* mktree styles */
        ul.mktree  li  { list-style: none; }
        ul.mktree, ul.mktree ul, ul.mktree li { 
            margin-left:10px; padding:0px; }
        ul.mktree li .bullet { padding-left: 10px }
        ul.mktree  li.liOpen   .bullet {cursor : pointer; }
        ul.mktree  li.liClosed .bullet {cursor : pointer; }
        ul.mktree  li.liBullet .bullet {cursor : default; }
        ul.mktree  li.liOpen   ul {display: block; }
        ul.mktree  li.liClosed ul {display: none; }
    
</style>



</head>

<body>
<h1 style="background: red;">
&nbsp;mars 3.0.23: Mars Simulation Support Library
</h1>
    

<h2><a name="name">NAME</a></h2>
    

<p><b>keyfield(n)</b> -- Database Key Field, submodule of <a href="../mann/marsgui.html">marsgui(n)</a>

</p>

<ul>

    <li><a href="#name">NAME</a></li>
    

    <li><a href="#synopsis">SYNOPSIS</a></li>
    

    <li><a href="#description">DESCRIPTION</a></li>
    

    <li><a href="#commands">COMMANDS</a></li>
    

    <li><a href="#instance_command">INSTANCE COMMAND</a></li>
    

    <li><a href="#environment">ENVIRONMENT</a></li>
    

    <li><a href="#author">AUTHOR</a></li>
    

    <li><a href="#history">HISTORY</a></li>
    

</ul>
    
    

<h2><a name="synopsis">SYNOPSIS</a></h2>
    

<pre>
package require marsgui 3.0.23
namespace import ::marsgui::*
</pre>

<ul class="itemlist">
<li><a class="iref" href="#keyfield">keyfield <i>pathName</i> ?<i>options...</i>?</a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-changecmd">-changecmd <i>command</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-state">-state <i>state</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-db">-db <i>db</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-table">-table <i>table</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-keys">-keys <i>keylist</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-dispcols">-dispcols <i>list</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-widths">-widths <i>widths</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#keyfield-labels">-labels <i>strings</i></a></li>
<li><a class="iref" href="#cget"><i>pathName</i> cget <i>option</i></a></li>
<li><a class="iref" href="#configure"><i>pathName</i> configure <i>option value...</i></a></li>
<li><a class="iref" href="#get"><i>pathName</i> get</a></li>
<li><a class="iref" href="#set"><i>pathName</i> set <i>value</i></a></li>
</ul>


<h2><a name="description">DESCRIPTION</a></h2>
<p>The keyfield(n) widget is a <a href="../mani/field.html">field(i)</a> widget for selecting a
a specific record from a database table by selecting the values in
one or more key columns using <a href="../mann/enumfield.html">enumfield(n)</a>-style
pulldowns.</p>

<p>The value edited is a Tcl list with as many elements as there are
key columns; see the <code>-keys</code> options.</p>

<p>The user must select the value for each key column in a particular
order: the value selected for the first column determines the valid
values for the second key column, and so on.  Columns for which no
valid value has yet been selected are assumed to be the empty string. 

</p>

<h2><a name="commands">COMMANDS</a></h2>
<p>This module defines the following commands.

</p>

<dl>

<dt class="defitem"><a name="keyfield">keyfield <i>pathName</i> ?<i>options...</i>?</a></dt><dd><p>

Creates a new <a class="iref" href="#keyfield">keyfield</a> widget named <i>pathName</i>, and
returns <i>pathName</i>.  The widget supports the following options:

</p><dl>

<dt class="defopt"><a name="keyfield-changecmd">-changecmd <i>command</i></a></dt><dd>

From <a href="../mani/field.html">field(i)</a>.  Specifies a <i>command</i> to be called
whenever the field's value changes, for any reason whatsoever
(including explicit calls to <a class="iref" href="#set">set</a>.  The new value is appended
to the <i>command</i> as an argument.

</dd>
<dt class="defopt"><a name="keyfield-state">-state <i>state</i></a></dt><dd>

From <a href="../mani/field.html">field(i)</a>.  keyfield(i) widgets have states, just as the
normal <code>tk::</code> and <code>ttk::</code> widgets do.  The valid
states are <b>normal</b> and <b>disabled</b>.

</dd>
<dt class="defopt"><a name="keyfield-db">-db <i>db</i></a></dt><dd>

Specifies the name of the SQLite3 database object containing the
<code>-table</code> from which records are to be selected.

</dd>
<dt class="defopt"><a name="keyfield-table">-table <i>table</i></a></dt><dd>

Specifies the name of the table or view in the <code>-db</code> from
which records are to be selected.

</dd>
<dt class="defopt"><a name="keyfield-keys">-keys <i>keylist</i></a></dt><dd>

Specifies the names of the key columns in the <code>-table</code>.

</dd>
<dt class="defopt"><a name="keyfield-dispcols">-dispcols <i>list</i></a></dt><dd><p>

Specifies the names of columns whose values are to be displayed in
place of the <code>-keys</code> columns in the pulldowns.  The values
in the <code>-dispcols</code> columns need to be paired one-to-one
with the matching values in the <code>-keys</code> columns.</p>

<p>This is usually used when the <code>-table</code>'s key is a bare
integer.  The <code>-table</code> can be a view that provides
a human-readable version of the key as a parallel column.  The
GUI then uses the human-readable text, while the underlying order
uses the integer key.

</p>
</dd>
<dt class="defopt"><a name="keyfield-widths">-widths <i>widths</i></a></dt><dd>

Specifies a list of <i>widths</i>, in characters of the current font,
for each key column.  The <i>widths</i> will determine the approximate
width of each pulldown.

</dd>
<dt class="defopt"><a name="keyfield-labels">-labels <i>strings</i></a></dt><dd>

Specifies a list of label strings, one for each key column.  If a
column's label string is not the empty string, then it will appear to
the left of the key's pulldown.

</dd>
</dl>


</dd>
</dl>

<h2><a name="instance_command">INSTANCE COMMAND</a></h2>
<p>keyfield(n) widgets have the following subcommands:

</p>

<dl>

<dt class="defitem"><a name="cget"><i>pathName</i> cget <i>option</i></a></dt><dd>

From <a href="../mani/field.html">field(i)</a>.  Returns the value of the specified <i>option</i>.

</dd>
<dt class="defitem"><a name="configure"><i>pathName</i> configure <i>option value...</i></a></dt><dd>

From <a href="../mani/field.html">field(i)</a>.  Sets the value of one or more of the object's
options.

</dd>
<dt class="defitem"><a name="get"><i>pathName</i> get</a></dt><dd>

From <a href="../mani/field.html">field(i)</a>.  Returns the field's current value, a list of
key column values, one for each key column.  Key columns for which no value
has been selected will be represented as empty strings.

</dd>
<dt class="defitem"><a name="set"><i>pathName</i> set <i>value</i></a></dt><dd>

From <a href="../mani/field.html">field(i)</a>.  Explicitly sets the field's <i>value</i>, and
calls the <code>-changecmd</code> if the value has really changed,
i.e., successive calls to <a class="iref" href="#set">set</a> with the same <i>value</i> will
result in at most one call to the <code>-changecmd</code>.

</dd>
</dl>


<h2><a name="environment">ENVIRONMENT</a></h2>
<p>marsgui(n) requires Tcl 8.5 or later.</p>

<p>To use marsgui(n) in a Tcl script, the environment variable
<code>TCLLIBPATH</code> must include the parent of the package
directory.

</p>

<h2><a name="author">AUTHOR</a></h2>
<p>Will Duquette

</p>

<h2><a name="history">HISTORY</a></h2>
<p>Original package.

</p>

<hr>
<p><i>mars 3.0.23 Man page generated by manpage(n) on 
Fri Nov 20 09:53:52 PST 2015</i>
</p>

</body>
</html>
    











